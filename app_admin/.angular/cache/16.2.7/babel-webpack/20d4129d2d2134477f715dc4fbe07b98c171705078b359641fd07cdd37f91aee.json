{"ast":null,"code":"import { TripDataService } from '../services/trip-data.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/trip-data.service\";\nimport * as i2 from \"../services/authentication.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../trip-card/trip-card.component\";\nfunction TripListingComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function TripListingComponent_div_0_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.addTrip());\n    });\n    i0.ɵɵtext(2, \"Add Trip\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction TripListingComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-trip-card\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const trip_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"trip\", trip_r4);\n  }\n}\nexport class TripListingComponent {\n  constructor(tripDataService, authService, router) {\n    this.tripDataService = tripDataService;\n    this.authService = authService;\n    this.router = router;\n    this.trips = [];\n    this.message = '';\n  }\n  addTrip() {\n    this.router.navigate(['add-trip']);\n  }\n  getTrips() {\n    console.log('Inside TripListingComponent#getTrips');\n    this.message = 'Searching for trips';\n    this.tripDataService.getTrips().then(foundTrips => {\n      this.message = foundTrips.length > 0 ? '' : 'No trips found';\n      this.trips = foundTrips;\n    });\n  }\n  isLoggedIn() {\n    return this.authService.isLoggedIn();\n  }\n  ngOnInit() {\n    this.getTrips();\n  }\n  static #_ = this.ɵfac = function TripListingComponent_Factory(t) {\n    return new (t || TripListingComponent)(i0.ɵɵdirectiveInject(i1.TripDataService), i0.ɵɵdirectiveInject(i2.AuthenticationService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TripListingComponent,\n    selectors: [[\"app-trip-listing\"]],\n    features: [i0.ɵɵProvidersFeature([TripDataService])],\n    decls: 3,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [1, \"row\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-info\", 3, \"click\"], [1, \"card-deck\", \"mt-2\", 3, \"trip\"]],\n    template: function TripListingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TripListingComponent_div_0_Template, 3, 0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtemplate(2, TripListingComponent_div_2_Template, 2, 1, \"div\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn());\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.trips);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.TripCardComponent],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["TripDataService","i0","ɵɵelementStart","ɵɵlistener","TripListingComponent_div_0_Template_button_click_1_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","addTrip","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty","trip_r4","TripListingComponent","constructor","tripDataService","authService","router","trips","message","navigate","getTrips","console","log","then","foundTrips","length","isLoggedIn","ngOnInit","_","ɵɵdirectiveInject","i1","i2","AuthenticationService","i3","Router","_2","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","TripListingComponent_Template","rf","ctx","ɵɵtemplate","TripListingComponent_div_0_Template","TripListingComponent_div_2_Template"],"sources":["C:\\Users\\jpi\\source\\repos\\CS-465 Travlr project\\travlr\\app_admin\\src\\app\\trip-listing\\trip-listing.component.ts","C:\\Users\\jpi\\source\\repos\\CS-465 Travlr project\\travlr\\app_admin\\src\\app\\trip-listing\\trip-listing.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { TripDataService } from '../services/trip-data.service';\r\nimport { Trip } from '../models/trip';\r\nimport { Router } from '@angular/router';\r\nimport { AuthenticationService } from '../services/authentication.service';\r\n\r\n@Component({\r\n  selector: 'app-trip-listing',\r\n  templateUrl: './trip-listing.component.html',\r\n  styleUrls: ['./trip-listing.component.css'],\r\n  providers: [TripDataService],\r\n})\r\nexport class TripListingComponent implements OnInit {\r\n  // trips: Array<any> = trips;\r\n  trips: Trip[];\r\n  message: string;\r\n\r\n  constructor(\r\n    private tripDataService: TripDataService,\r\n    private authService: AuthenticationService,\r\n    private router: Router\r\n  ) {\r\n    this.trips = [];\r\n    this.message = '';\r\n  }\r\n\r\n  protected addTrip(): void {\r\n    this.router.navigate(['add-trip']);\r\n  }\r\n\r\n  private getTrips(): void {\r\n    console.log('Inside TripListingComponent#getTrips');\r\n    this.message = 'Searching for trips';\r\n    this.tripDataService.getTrips().then((foundTrips) => {\r\n      this.message = foundTrips.length > 0 ? '' : 'No trips found';\r\n      this.trips = foundTrips;\r\n    });\r\n  }\r\n\r\n  public isLoggedIn(): boolean {\r\n    return this.authService.isLoggedIn();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getTrips();\r\n  }\r\n}\r\n","<!-- <pre>{{ trips | json }}</pre> -->\r\n<div *ngIf=\"isLoggedIn()\">\r\n  <button (click)=\"addTrip()\" class=\"btn btn-info\">Add Trip</button>\r\n</div>\r\n<div class=\"row\">\r\n  <div *ngFor=\"let trip of trips\">\r\n    <app-trip-card [trip]=\"trip\" class=\"card-deck mt-2\"></app-trip-card>\r\n  </div>\r\n</div>\r\n"],"mappings":"AACA,SAASA,eAAe,QAAQ,+BAA+B;;;;;;;;;;ICA/DC,EAAA,CAAAC,cAAA,UAA0B;IAChBD,EAAA,CAAAE,UAAA,mBAAAC,4DAAA;MAAAH,EAAA,CAAAI,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAN,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAAF,MAAA,CAAAG,OAAA,EAAS;IAAA,EAAC;IAAsBT,EAAA,CAAAU,MAAA,eAAQ;IAAAV,EAAA,CAAAW,YAAA,EAAS;;;;;IAGlEX,EAAA,CAAAC,cAAA,UAAgC;IAC9BD,EAAA,CAAAY,SAAA,uBAAoE;IACtEZ,EAAA,CAAAW,YAAA,EAAM;;;;IADWX,EAAA,CAAAa,SAAA,GAAa;IAAbb,EAAA,CAAAc,UAAA,SAAAC,OAAA,CAAa;;;ADMhC,OAAM,MAAOC,oBAAoB;EAK/BC,YACUC,eAAgC,EAChCC,WAAkC,EAClCC,MAAc;IAFd,KAAAF,eAAe,GAAfA,eAAe;IACf,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IAEd,IAAI,CAACC,KAAK,GAAG,EAAE;IACf,IAAI,CAACC,OAAO,GAAG,EAAE;EACnB;EAEUb,OAAOA,CAAA;IACf,IAAI,CAACW,MAAM,CAACG,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;EACpC;EAEQC,QAAQA,CAAA;IACdC,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;IACnD,IAAI,CAACJ,OAAO,GAAG,qBAAqB;IACpC,IAAI,CAACJ,eAAe,CAACM,QAAQ,EAAE,CAACG,IAAI,CAAEC,UAAU,IAAI;MAClD,IAAI,CAACN,OAAO,GAAGM,UAAU,CAACC,MAAM,GAAG,CAAC,GAAG,EAAE,GAAG,gBAAgB;MAC5D,IAAI,CAACR,KAAK,GAAGO,UAAU;IACzB,CAAC,CAAC;EACJ;EAEOE,UAAUA,CAAA;IACf,OAAO,IAAI,CAACX,WAAW,CAACW,UAAU,EAAE;EACtC;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACP,QAAQ,EAAE;EACjB;EAAC,QAAAQ,CAAA,G;qBAjCUhB,oBAAoB,EAAAhB,EAAA,CAAAiC,iBAAA,CAAAC,EAAA,CAAAnC,eAAA,GAAAC,EAAA,CAAAiC,iBAAA,CAAAE,EAAA,CAAAC,qBAAA,GAAApC,EAAA,CAAAiC,iBAAA,CAAAI,EAAA,CAAAC,MAAA;EAAA;EAAA,QAAAC,EAAA,G;UAApBvB,oBAAoB;IAAAwB,SAAA;IAAAC,QAAA,GAAAzC,EAAA,CAAA0C,kBAAA,CAFpB,CAAC3C,eAAe,CAAC;IAAA4C,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCT9BhD,EAAA,CAAAkD,UAAA,IAAAC,mCAAA,iBAEM;QACNnD,EAAA,CAAAC,cAAA,aAAiB;QACfD,EAAA,CAAAkD,UAAA,IAAAE,mCAAA,iBAEM;QACRpD,EAAA,CAAAW,YAAA,EAAM;;;QAPAX,EAAA,CAAAc,UAAA,SAAAmC,GAAA,CAAAnB,UAAA,GAAkB;QAIA9B,EAAA,CAAAa,SAAA,GAAQ;QAARb,EAAA,CAAAc,UAAA,YAAAmC,GAAA,CAAA5B,KAAA,CAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}