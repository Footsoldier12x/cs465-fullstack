{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/authentication.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.formError, \" \");\n  }\n}\nexport class LoginComponent {\n  constructor(router, authenticationService) {\n    this.router = router;\n    this.authenticationService = authenticationService;\n    this.formError = '';\n    this.credentials = {\n      name: '',\n      email: '',\n      password: ''\n    };\n  }\n  ngOnInit() {}\n  onLoginSubmit() {\n    this.formError = '';\n    if (!this.credentials.email || !this.credentials.password) {\n      this.formError = 'All fields are required, please try again';\n    } else {\n      this.doLogin();\n    }\n  }\n  doLogin() {\n    this.authenticationService.login(this.credentials).then(() => this.router.navigateByUrl('#')).catch(message => this.formError = message);\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthenticationService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 16,\n    vars: 3,\n    consts: [[1, \"row\"], [1, \"col-12\", \"col-md-8\"], [3, \"ngSubmit\"], [\"role\", \"alert\", \"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"form-group\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"placeholder\", \"Enter email address\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"placeholder\", \"e.g 12+ alphanumerics\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"role\", \"button\", 1, \"btn-btnprimary\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n        i0.ɵɵtext(3, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.onLoginSubmit();\n        });\n        i0.ɵɵtemplate(5, LoginComponent_div_5_Template, 2, 1, \"div\", 3);\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"label\", 5);\n        i0.ɵɵtext(8, \"Email Address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.credentials.email = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\", 4)(11, \"label\", 7);\n        i0.ɵɵtext(12, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_13_listener($event) {\n          return ctx.credentials.password = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"button\", 9);\n        i0.ɵɵtext(15, \" Sign In! \");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.formError);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.credentials.email);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.credentials.password);\n      }\n    },\n    dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","formError","LoginComponent","constructor","router","authenticationService","credentials","name","email","password","ngOnInit","onLoginSubmit","doLogin","login","then","navigateByUrl","catch","message","_","ɵɵdirectiveInject","i1","Router","i2","AuthenticationService","_2","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵlistener","LoginComponent_Template_form_ngSubmit_4_listener","ɵɵtemplate","LoginComponent_div_5_Template","LoginComponent_Template_input_ngModelChange_9_listener","$event","LoginComponent_Template_input_ngModelChange_13_listener","ɵɵproperty"],"sources":["C:\\Users\\jpi\\source\\repos\\CS-465 Travlr project\\travlr\\app_admin\\src\\app\\login\\login.component.ts","C:\\Users\\jpi\\source\\repos\\CS-465 Travlr project\\travlr\\app_admin\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthenticationService } from '../services/authentication.service';\r\nimport { User } from '../models/user';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css'],\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  public formError: string = '';\r\n  public credentials = {\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n  };\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private authenticationService: AuthenticationService\r\n  ) {}\r\n\r\n  ngOnInit() {}\r\n  public onLoginSubmit(): void {\r\n    this.formError = '';\r\n    if (!this.credentials.email || !this.credentials.password) {\r\n      this.formError = 'All fields are required, please try again';\r\n    } else {\r\n      this.doLogin();\r\n    }\r\n  }\r\n\r\n  private doLogin(): void {\r\n    this.authenticationService\r\n      .login(this.credentials)\r\n      .then(() => this.router.navigateByUrl('#'))\r\n      .catch((message) => (this.formError = message));\r\n  }\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-12 col-md-8\">\r\n    <h2>Login</h2>\r\n    <form (ngSubmit)=\"onLoginSubmit()\">\r\n      <div role=\"alert\" *ngIf=\"formError\" class=\"alert alert-danger\">\r\n        {{ formError }}\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"email\">Email Address</label>\r\n        <input\r\n          type=\"email\"\r\n          class=\"form-control\"\r\n          id=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Enter email address\"\r\n          [(ngModel)]=\"credentials.email\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"password\">Password</label>\r\n        <input\r\n          type=\"password\"\r\n          class=\"form-control\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"e.g 12+ alphanumerics\"\r\n          [(ngModel)]=\"credentials.password\"\r\n        />\r\n      </div>\r\n      <button type=\"submit\" role=\"button\" class=\"btn-btnprimary\">\r\n        Sign In!\r\n      </button>\r\n    </form>\r\n  </div>\r\n</div>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}